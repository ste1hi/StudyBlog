<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License

Name       : Brown Stone  
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20100928

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>2024-03-07blog</title>
<link href="https://ste1hi.github.io/StudyBlog/theme/css/style.css" rel="stylesheet" type="text/css" media="screen" />
<link href="https://ste1hi.github.io/StudyBlog/" type="application/atom+xml" rel="alternate" title="StudyBlog ATOM Feed" />
</head>
<body>
<div id="wrapper">
	<div id="page">
		<div id="page-bgtop">
			<div id="page-bgbtm">
    
                        	<div id="content">
					<div class="post">
						<h2 class="title"><a href="2024-03-07blog.html">2024-03-07blog</a></h2>
						<p class="meta"><span class="date">Le Thu 07 March 2024 </span><span class="posted">作者 <a href="#">ste1hi</a></span><span>&nbsp; | 分类 : <a href="https://ste1hi.github.io/StudyBlog/category/blog.html">Blog</a></span></p>
					<p class="meta">标签 : </p>	
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <h1>2024-03-07日记</h1>
<p>~~GitHub真卡~~</p>
<hr />
<h2>尝试很久的一道神奇的<a href="https://sezsyoj.fun/p/383">题目</a></h2>
<p>其实题不难，可以当一道<code>模拟</code>写。最开始的实现方法如下：
```c++</p>
<h1>include<iostream></h1>
<h1>include<string></h1>
<h1>include<cstring></h1>
<h1>include<algorithm></h1>
<h1>include<cstdio></h1>
<h1>include<cmath></h1>
<h1>include<vector></h1>
<p>using namespace std;
int after_length;
int temp,list_counter;
vector <int> after_list;
int main(){
    cin&gt;&gt;after_length;
    for(int i=0;i<after_length;i++){
        cin>&gt;temp;
        after_list.push_back(temp);
    }
    for(int i=0;i&lt;after_list.size();i++){
        if(after_list[i]==-1){
            list_counter++;
        }
    }</p>
<pre class="highlight"><code>int lists[list_counter+1][after_length+1];
int present_list_index=0,array_length;
bool is_list_full[list_counter];
memset(is_list_full,0,sizeof(bool)*list_counter);
//Array lists' first element is the length of this.
for(int i=0;i&lt;list_counter;i++){
    lists[i][0]=1;
}

//Decode the list.
for(int i=0;i&lt;after_list.size();i++,present_list_index++){
    if(present_list_index==list_counter){
        present_list_index=0;
    }

    if(after_list[i]!=-1){
        if(!is_list_full[present_list_index]){
            array_length=lists[present_list_index][0];
            // cout&lt;&lt;array_length;
            lists[present_list_index][array_length]=after_list[i];
            lists[present_list_index][0]++;
        }
        else{
            //Get next list which is not full.
            while(is_list_full[present_list_index]){
                present_list_index++;
                if(present_list_index==list_counter){
                    present_list_index=0;
                }
            }

            array_length=lists[present_list_index][0];
            lists[present_list_index][array_length]=after_list[i];
            lists[present_list_index][0]++;
        }
    }
    else{
        if(!is_list_full[present_list_index]){
            is_list_full[present_list_index]=1;
        }
        else{
            while(is_list_full[present_list_index]){
                present_list_index++;
                if(present_list_index==list_counter){
                    present_list_index=0;
                }
            }
            is_list_full[present_list_index]=1;
        }
    }
}

//Output
cout&lt;&lt;list_counter&lt;&lt;endl;
for(int i=0;i&lt;list_counter;i++){
    for(int j=0;j&lt;lists[i][0];j++){
        if(j==0){
            cout&lt;&lt;lists[i][j]-1;
        }
        else{
            cout&lt;&lt;&quot; &quot;&lt;&lt;lists[i][j];
        }
    }
    cout&lt;&lt;endl;
}
</code></pre>

<p>}
<code>``
大致思路就是先统计出解码后有几个list，然后维护了个array来存储每个list是不是结束了。之后用一个二维数组存解码出的结果，每个</code>list[i][0]`存储当前list的长度+1。</p>
<p>结果RE，报错<code>Segmentation fault</code>。最难受的是我所有造的数据全部正常通过，然后我只能用oj一点点定位。</p>
<p><img alt="发疯似定位" src="./resource/2024-03-07-01.png" title="全是我定位搞得" /></p>
<h3>定位方法</h3>
<p>在代码中添加
<code>c++
return 0;</code>
如果出问题的在下面那么就会报WA，而如果出问题的在上面，报错依旧是RE。</p>
<p>最后定位出问题的地方大概在
<code>c++
//Array lists' first element is the length of this.
    for(int i=0;i&lt;list_counter;i++){
        lists[i][0]=1;
    }</code>
这个for循环中。但这怎么看也不想会有问题的样子，于是又经过一阵摸索发现问题出在<code>lists</code>这个二维数组开太大了，于是将定义由
<code>c++
int lists[list_counter+1][after_length+1];</code>
改成了
<code>c++
int lists[list_counter][after_length/list_counter*200];</code>
果然不RE了改WA了。~~Damn it~~</p>
<p>然后莫名一上午就过去了。</p>
<hr />
<h2>晚上</h2>
<p>那道题一上午的折磨给我搞崩溃了，晚上说什么也不想再改了。~~开始划水~~</p>
<p>一晚上水了两道黄题，难度不是很大，但还是掉坑里了。<code>sort()</code>也就是快排，是不稳定的，当然，STL也有一个稳定的排序<code>stable_sort()</code>，但我用的时候莫名爆内存了，所以最后还是自己写了（数据量不大$o\left ( n^{2}  \right ) $能过）。(2024-03-08补充：换了台电脑<code>stable_sort()</code>又能用了，神奇)</p>
<p>一天结束了。。。</p>	
						</div>
					</div>
			      
					<div style="clear: both;">&nbsp;</div>
				</div>
				<!-- end #content -->
				<div id="sidebar">
					<div id="logo">
						<h1><a href="https://ste1hi.github.io/StudyBlog">StudyBlog</a></h1>
					</div>
					<div id="menu">
						<ul>
							<li ><a href="https://ste1hi.github.io/StudyBlog">主页</a></li>
							<li ><a href="https://ste1hi.github.io/StudyBlog/archives.html">档案</a></li>
						</ul>
					</div>
					<ul>
						<li>
							<h2>分类</h2>
							<ul>
								 <li class="active"><a href="https://ste1hi.github.io/StudyBlog/category/blog.html">Blog</a></li>
								 <li ><a href="https://ste1hi.github.io/StudyBlog/category/summary.html">Summary</a></li>
							</ul>
						</li>
						<li>
							<h2>友链</h2>
							<ul>
                                                            <li><a href="https://getpelican.com/">Pelican</a></li>
                                                            <li><a href="https://www.python.org/">Python.org</a></li>
                                                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                                                            <li><a href="#">You can modify those links in your config file</a></li>
							</ul>
						</li>
                                                <li>
                                                        <h2>社交媒体</h2>
                                                        <ul>
                                                            <li><a href="https://ste1hi.github.io/StudyBlog/" rel="alternate">Flux Atom</a></li>
                                                            <li><a href="#">You can add links in your config file</a></li>
                                                            <li><a href="#">Another social link</a></li>
                                                        </ul>
                                                </li><!-- /.social -->
						<li>
						        <h2>标签</h2>
						        <ul>
						        </ul>
						</li>
						
						
					</ul>
				</div>
				<!-- end #sidebar -->
				<div style="clear: both;">&nbsp;</div>
			</div>
		</div>
	</div>
	<!-- end #page -->

<div id="footer">
	<p>Copyright (c) 2008 Sitename.com. All rights reserved. Design by <a href="http://www.freecsstemplates.org/">CSS Templates</a>.</p>
	<p>Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
</p>
</div>
<!-- end #footer -->
</body>
</html>