<!doctype html>
<html lang="cn">
<head>
  <meta charset="utf-8">
  <!-- Site Meta Data -->
  <title>2024-03-15blog</title>
  <meta name="description" content="">
  <meta name="author" content="ste1hi">

  <!-- Style Meta Data -->
  <link rel="stylesheet" href="https://ste1hi.github.io/StudyBlog/theme/css/notebook.css" type="text/css" />
  <link rel="shortcut icon" href="https://ste1hi.github.io/StudyBlog/">

  <!-- Feed Meta Data -->
  <link href="https://ste1hi.github.io/StudyBlog/" type="application/atom+xml" rel="alternate" title="StudyBlog ATOM Feed" />

  <!-- Twitter Feed -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="">
  <meta name="twitter:image" content="https://ste1hi.github.io/StudyBlog/">

<meta name="twitter:creator" content="">
<meta name="twitter:url" content="https://ste1hi.github.io/StudyBlog/2024-03-15blog.html">
<meta name="twitter:title" content="StudyBlog ~ 2024-03-15blog">
<meta name="twitter:description" content="<p>由于电脑宕机，一上午努力白费，凭记忆恢复。</p>
<style>
    button {
        background-color: #4CAF50; /* 背景色 */
        border: none; /* 边框大小 */
        color: white; /* 文字颜色 */
        padding: 5px 10px; /* 内边距 */
        text-align: center; /* 文字居中 */
        text-decoration: none …</style>">

<!-- Facebook Meta Data -->
<meta property="og:title" content="StudyBlog ~ 2024-03-15blog" />
<meta property="og:description" content="<p>由于电脑宕机，一上午努力白费，凭记忆恢复。</p>
<style>
    button {
        background-color: #4CAF50; /* 背景色 */
        border: none; /* 边框大小 */
        color: white; /* 文字颜色 */
        padding: 5px 10px; /* 内边距 */
        text-align: center; /* 文字居中 */
        text-decoration: none …</style>" />
<meta property="og:image" content="" />
</head>

<body>
  <!-- Sidebar -->
  <aside>
    <p><a href="https://ste1hi.github.io/StudyBlog"><img id="avatar" src="https://ste1hi.github.io/StudyBlog/"></a></p>
    <h1>StudyBlog</h1>
    <p></p>
    <hr>
    <h2>Social</h2>
    <ul class="social">
      <li style="list-style-image : url(https://ste1hi.github.io/StudyBlog/theme/images/icons/you can add links in your config file.png);"><a href="#">You can add links in your config file</a></li>
      <li style="list-style-image : url(https://ste1hi.github.io/StudyBlog/theme/images/icons/another social link.png);"><a href="#">Another social link</a></li>
      <li style="list-style-image : url(https://ste1hi.github.io/StudyBlog/theme/images/icons/rss.png);"><a href="https://ste1hi.github.io/StudyBlog/" rel="alternate"><i class="icon-bookmark icon-large"></i>Atom feed</a></li>
    </ul>
    <h2>Categories</h2>
    <ul class="navbar">
      <li class="active"><a href="https://ste1hi.github.io/StudyBlog/category/blog.html">Blog</a></li>
      <li><a href="https://ste1hi.github.io/StudyBlog/category/summary.html">Summary</a></li>
    </ul> 
  </aside>

  <!-- Content -->
  <article>
<section id="content">
    <article>
        <header class="post_list">
            <h2 class="post_title"><a href="https://ste1hi.github.io/StudyBlog/2024-03-15blog.html" rel="bookmark" title="Permalink to 2024-03-15blog">2024-03-15blog</a></h2>
            <span>Par </span>
            <a href="https://ste1hi.github.io/StudyBlog/author/ste1hi.html">@ste1hi</a>
            <span> dans </span>
            <span class="post_category"><a href="https://ste1hi.github.io/StudyBlog/category/blog.html" rel="bookmark" title="Permalink to Blog">[ Blog ]</a></span>
            <span> le </span>
            <span class="post_date">Fri 15 March 2024</span>
            <div><span>Tags : </span>
            </div>

            <div class="entry-social">
                <span class="twitter"><a target="_blank" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;" title="Twitter" href="https://twitter.com/share?url=https://ste1hi.github.io/StudyBlog/2024-03-15blog.html&text=2024-03-15blog&via=">Twitter</a></span>

                <span class="gplus"><a target="_blank" title="Google +" href="https://plus.google.com/share?url=https://ste1hi.github.io/StudyBlog/2024-03-15blog.html&hl=fr" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;">Google+</a></span>

                <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;" href="https://www.facebook.com/sharer.php?u=https://ste1hi.github.io/StudyBlog/2024-03-15blog.html&t=2024-03-15blog">Facebook</a></span>

                <a  target="_blank" title="Linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=<https://ste1hi.github.io/StudyBlog/2024-03-15blog.html&title=2024-03-15blog" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;">Linkedin</a>

                <span class="mail"><a href="mailto:?subject=2024-03-15blog&amp;body=Viens découvrir un article à propos de [2024-03-15blog] sur le site de ste1hi. https://ste1hi.github.io/StudyBlog/2024-03-15blog.html" title="Share by Email" target="_blank">Mail</a></span>
            </div>
        </header>
        <div class="entry-content">
            <p>由于电脑宕机，一上午努力白费，凭记忆恢复。</p>
<style>
    button {
        background-color: #4CAF50; /* 背景色 */
        border: none; /* 边框大小 */
        color: white; /* 文字颜色 */
        padding: 5px 10px; /* 内边距 */
        text-align: center; /* 文字居中 */
        text-decoration: none; /* 文字下划线 */
        display: inline-block; /* 显示方式 */
        font-size: 13px; /* 字体大小 */
        margin: 4px 2px; /* 外边距 */
        cursor: pointer; /* 鼠标指针样式 */
        width: 120px; /* 设置按钮宽度为100像素 */
        height: 30px;
        border-radius: 5px;
    }
</style>
<script>
    function a(){
        if(document.getElementById("code").style.display=="none"){
            document.getElementById("code").style.display="flex";
            document.getElementById("aa").style.display="flex";
            document.getElementById("btn").innerHTML="隐藏完整AC代码";
        }
        else{
            document.getElementById("code").style.display="none";
            document.getElementById("aa").style.display="none";
            document.getElementById("btn").innerHTML="显示完整AC代码";
        }
    }
</script>

<h1><a href="https://www.luogu.com.cn/record/150892853">终于A了</a>！！！太不容易了！！！</h1>
<p><button type="button" id="btn" onclick="a()">显示完整AC代码</button></p>
<div id="code" style="display:none">
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;string&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;cstring&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;cstdio&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;cmath&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;vector&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;map&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="c1">// 用来存证词的结构体</span>
<span class="cm">/*
证词种类：
    1.I am guilty.
    2.I am not guilty.
    3.XXX is guilty.
    4.XXX is not guilty.
    5.Today is XXX.
*/</span>
<span class="k">struct</span> <span class="nc">words</span><span class="p">{</span>
    <span class="n">string</span> <span class="n">w</span><span class="p">;</span>   <span class="c1">// 证词中的可变文字，如“XXX is guilty.”中的XXX</span>
    <span class="kt">int</span> <span class="n">is_true</span> <span class="c1">// 证词真假</span>
    <span class="kt">int</span> <span class="n">type</span><span class="p">;</span>   <span class="c1">// 证词种类</span>
<span class="p">};</span>

<span class="c1">// 用来存人的结构体</span>
<span class="k">struct</span> <span class="nc">people</span><span class="p">{</span>
    <span class="n">string</span> <span class="n">name</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">words</span><span class="o">&gt;</span> <span class="n">hw</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">pp</span><span class="p">;</span>   <span class="c1">// 人与索引的对应</span>
<span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">week</span><span class="p">;</span> <span class="c1">// 星期与索引的对应</span>
<span class="n">string</span> <span class="n">weeks</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">=</span><span class="p">{</span>     <span class="c1">// 索引与星期的对应（包含.是因为后面懒得去了）</span>
    <span class="s">"Monday."</span><span class="p">,</span>
    <span class="s">"Tuesday."</span><span class="p">,</span>
    <span class="s">"Wednesday."</span><span class="p">,</span>
    <span class="s">"Thursday."</span><span class="p">,</span>
    <span class="s">"Friday."</span><span class="p">,</span>
    <span class="s">"Saturday."</span><span class="p">,</span>
    <span class="s">"Sunday."</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">init_week</span><span class="p">(){</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Monday"</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Tuesday"</span><span class="p">,</span><span class="mi">2</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Wednesday"</span><span class="p">,</span><span class="mi">3</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Thursday"</span><span class="p">,</span><span class="mi">4</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Friday"</span><span class="p">,</span><span class="mi">5</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Saturday"</span><span class="p">,</span><span class="mi">6</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Sunday"</span><span class="p">,</span><span class="mi">7</span><span class="p">));</span> 
<span class="p">}</span>

<span class="kt">int</span> <span class="n">ans</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// 储存罪犯答案</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="kt">int</span> <span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">flag</span><span class="p">,</span><span class="n">falut_num</span><span class="p">,</span><span class="n">uk</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">init_week</span><span class="p">();</span>
    <span class="n">string</span> <span class="n">temp</span><span class="p">,</span><span class="n">nn</span><span class="p">,</span><span class="n">sp</span><span class="p">;</span>
    <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">m</span><span class="o">&gt;&gt;</span><span class="n">n</span><span class="o">&gt;&gt;</span><span class="n">p</span><span class="p">;</span>
    <span class="n">people</span> <span class="n">pe</span><span class="p">[</span><span class="n">m</span><span class="o">+</span><span class="mi">10</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">is_honest</span><span class="p">[</span><span class="n">m</span><span class="o">+</span><span class="mi">10</span><span class="p">];</span> <span class="c1">// 储存该人是否说真话。-1为不确定</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="o">+</span><span class="mi">10</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">words</span> <span class="n">te</span><span class="p">;</span>            <span class="c1">// 证词临时变量</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">;</span>
        <span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">pp</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">,</span><span class="n">i</span><span class="p">));</span>
    <span class="p">}</span>
    <span class="n">getchar</span><span class="p">();</span> <span class="c1">// 有坑，见下</span>
    <span class="n">getchar</span><span class="p">();</span>

    <span class="c1">// 输入证词循环</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">p</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">getline</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span><span class="n">temp</span><span class="p">);</span>
        <span class="c1">// 还是坑，见下</span>
        <span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="sc">'\r'</span><span class="o">||</span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="sc">'\n'</span><span class="p">){</span>
            <span class="n">temp</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">nn</span><span class="o">=</span><span class="n">temp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">temp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">' '</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>                            <span class="c1">// nn为说该证词的人</span>
        <span class="n">te</span><span class="p">.</span><span class="n">is_true</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">sp</span><span class="o">=</span><span class="n">temp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">temp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">' '</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="n">temp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">' '</span><span class="p">));</span> <span class="c1">// 证词内容</span>
        <span class="k">if</span><span class="p">(</span><span class="n">sp</span><span class="o">==</span><span class="s">"I am guilty."</span><span class="p">){</span>
            <span class="n">te</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="n">sp</span><span class="p">;</span> <span class="c1">// 其实type为1或2时string w没用</span>
            <span class="n">te</span><span class="p">.</span><span class="n">type</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
            <span class="n">pe</span><span class="p">[</span><span class="n">pp</span><span class="p">[</span><span class="n">nn</span><span class="p">]].</span><span class="n">hw</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">te</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">sp</span><span class="o">==</span><span class="s">"I am not guilty."</span><span class="p">){</span>
            <span class="n">te</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="n">sp</span><span class="p">;</span>
            <span class="n">te</span><span class="p">.</span><span class="n">type</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
            <span class="n">pe</span><span class="p">[</span><span class="n">pp</span><span class="p">[</span><span class="n">nn</span><span class="p">]].</span><span class="n">hw</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">te</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">sp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">" is guilty."</span><span class="p">)</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
                <span class="n">te</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="n">sp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">sp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">11</span><span class="p">);</span>
                <span class="n">te</span><span class="p">.</span><span class="n">type</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
                <span class="n">pe</span><span class="p">[</span><span class="n">pp</span><span class="p">[</span><span class="n">nn</span><span class="p">]].</span><span class="n">hw</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">te</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">sp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">" is not guilty."</span><span class="p">)</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
                <span class="n">te</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="n">sp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">sp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">15</span><span class="p">);</span>
                <span class="n">te</span><span class="p">.</span><span class="n">type</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>
                <span class="n">pe</span><span class="p">[</span><span class="n">pp</span><span class="p">[</span><span class="n">nn</span><span class="p">]].</span><span class="n">hw</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">te</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">sp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"Today is "</span><span class="p">)</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
                <span class="n">te</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="n">sp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="n">sp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                <span class="n">te</span><span class="p">.</span><span class="n">type</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span>
                <span class="n">pe</span><span class="p">[</span><span class="n">pp</span><span class="p">[</span><span class="n">nn</span><span class="p">]].</span><span class="n">hw</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">te</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>    
    <span class="p">}</span>


    <span class="c1">// 枚举开始</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">today</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">today</span><span class="o">&lt;</span><span class="mi">7</span><span class="p">;</span><span class="n">today</span><span class="o">++</span><span class="p">){</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">gu</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">gu</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">gu</span><span class="o">++</span><span class="p">){</span>

            <span class="n">falut_num</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="c1">// 初始化说假话的人数为0</span>
            <span class="n">uk</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>        <span class="c1">// 初始化未知的人数为0</span>
            <span class="c1">// 初始化每个人的真假</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="o">+</span><span class="mi">10</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
                <span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="c1">// 给每个证言表真假</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
                <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">type</span><span class="o">==</span><span class="mi">1</span><span class="p">){</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="n">gu</span><span class="p">){</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">type</span><span class="o">==</span><span class="mi">2</span><span class="p">){</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="n">gu</span><span class="p">){</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">type</span><span class="o">==</span><span class="mi">3</span><span class="p">){</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">pp</span><span class="p">[</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">w</span><span class="p">]</span><span class="o">==</span><span class="n">gu</span><span class="p">){</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">type</span><span class="o">==</span><span class="mi">4</span><span class="p">){</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">pp</span><span class="p">[</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">w</span><span class="p">]</span><span class="o">==</span><span class="n">gu</span><span class="p">){</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">type</span><span class="o">==</span><span class="mi">5</span><span class="p">){</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">w</span><span class="o">==</span><span class="n">weeks</span><span class="p">[</span><span class="n">today</span><span class="p">]){</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>

                <span class="p">}</span>

            <span class="p">}</span>


            <span class="c1">// 判断枚举是否有效</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
                <span class="n">flag</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="c1">// flag为1，此次枚举无效</span>
                <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
                    <span class="n">uk</span><span class="o">++</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">else</span><span class="p">{</span>
                    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>

                        <span class="k">if</span><span class="p">(</span><span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==-</span><span class="mi">1</span><span class="p">){</span>
                            <span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="p">;</span>
                            <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
                                <span class="n">falut_num</span><span class="o">++</span><span class="p">;</span>
                                <span class="k">if</span><span class="p">(</span><span class="n">falut_num</span><span class="o">&gt;</span><span class="n">n</span><span class="p">){</span>
                                    <span class="n">flag</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                                    <span class="k">break</span><span class="p">;</span>
                                <span class="p">}</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="k">if</span><span class="p">(</span><span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="p">){</span>
                                <span class="n">flag</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                                <span class="k">break</span><span class="p">;</span>
                            <span class="p">}</span>
                        <span class="p">}</span>

                    <span class="p">}</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">){</span>
                        <span class="k">break</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>

            <span class="p">}</span>

            <span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">&gt;</span><span class="n">falut_num</span><span class="o">+</span><span class="n">uk</span><span class="p">){</span>
                <span class="n">flag</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
                <span class="k">if</span><span class="p">(</span><span class="n">ans</span><span class="o">!=-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="n">ans</span><span class="o">!=</span><span class="n">gu</span><span class="p">){</span>
                    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"Cannot Determine"</span><span class="p">;</span>
                    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="n">ans</span><span class="o">=</span><span class="n">gu</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">uk</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
            <span class="n">flag</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">ans</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">pe</span><span class="p">[</span><span class="n">ans</span><span class="p">].</span><span class="n">name</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span><span class="p">{</span>
        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"Impossible"</span><span class="p">;</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>
</div>
<div id="aa" style="display:none">
<a onclick="a()">收起</a>
</div>

<hr>
<p>这是一道有趣的模拟题，思路十分简单，由于数据量不大，可以枚举。首先枚举今天是星期几，然后再枚举罪犯，之后判断是否出现矛盾。</p>
<p>矛盾包括：
- 一个人既说假话又说真话。
- 说假话的人数大于题目规定说假话的人数。
- 说假话的人数加不知道说话真假的人数小于题目规定说假话的人数。</p>
<p>如果出现矛盾此次枚举无效，否则记录当前罪犯，进行下一次枚举，如果枚举出新的罪犯直接输出退出。</p>
<div class="highlight"><pre><span></span><code><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;Cannot Determine&quot;</span><span class="p">;</span>
<span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</code></pre></div>

<p>如果所有都枚举完了还没有成功的枚举就输出<code>Impossible</code>否则输出罪犯的名字。</p>
<hr>
<h2>神奇的坑点</h2>
<ol>
<li>window下的换行符是<code>\r\n</code>，而Linux下的换行符是<code>\n</code>。所以<code>getline()</code>会将<code>\r</code>当做正常字符读入进去。</li>
</ol>
<p>注意源代码中这一段</p>
<div class="highlight"><pre><span></span><code><span class="n">words</span><span class="w"> </span><span class="n">te</span><span class="p">;</span><span class="w">            </span><span class="c1">// 证词临时变量</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">        </span><span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="mi">-1</span><span class="p">;</span>
<span class="w">        </span><span class="n">pp</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">,</span><span class="n">i</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">getchar</span><span class="p">();</span><span class="w"> </span><span class="c1">// 有坑，见下</span>
<span class="w">    </span><span class="n">getchar</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 输入证词循环</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">p</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">        </span><span class="n">getline</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span><span class="n">temp</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// 还是坑，见下</span>
<span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="mi">-1</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;\r&#39;</span><span class="o">||</span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="mi">-1</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;\n&#39;</span><span class="p">){</span>
<span class="w">            </span><span class="n">temp</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="mi">-1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
</code></pre></div>

<p>中间的两个<code>getchar()</code>，第一个是接收cin结束后的<code>\r</code>，而第二个是接收<code>\n</code>。之后<code>getline()</code>后面的那个循环就是为了去掉每个证词最后的<code>\r\n</code>。</p>
        </div>
    </article>
</section>
  </article>

  <!-- Footer -->
  <footer>
    <address id="about" class="vcard body">
      Blog powered by <a href="http://getpelican.com/">Pelican</a>, 
      which takes great advantage of <a href="http://python.org">Python</a>.
      Theme <a href="https://github.com/quack1/notebook/">Notebook</a> by <a href="https://twitter.com/_Quack1">@Quack1</a>.
    </address>
  </footer>


</body>
</html>