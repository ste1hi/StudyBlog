<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License

Name       : Brown Stone  
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20100928

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>2024-03-15blog</title>
<link href="https://ste1hi.github.io/StudyBlog/theme/css/style.css" rel="stylesheet" type="text/css" media="screen" />
<link href="https://ste1hi.github.io/StudyBlog/" type="application/atom+xml" rel="alternate" title="StudyBlog ATOM Feed" />
</head>
<body>
<div id="wrapper">
	<div id="page">
		<div id="page-bgtop">
			<div id="page-bgbtm">
    
                        	<div id="content">
					<div class="post">
						<h2 class="title"><a href="2024-03-15blog.html">2024-03-15blog</a></h2>
						<p class="meta"><span class="date">Le Fri 15 March 2024 </span><span class="posted">Par <a href="#">ste1hi</a></span><span>&nbsp; | Catégorie : <a href="https://ste1hi.github.io/StudyBlog/category/blog.html">Blog</a></span></p>
					<p class="meta">Tags : </p>	
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <p>由于电脑宕机，一上午努力白费，凭记忆恢复。</p>
<style>
    button {
        background-color: #4CAF50; /* 背景色 */
        border: none; /* 边框大小 */
        color: white; /* 文字颜色 */
        padding: 5px 10px; /* 内边距 */
        text-align: center; /* 文字居中 */
        text-decoration: none; /* 文字下划线 */
        display: inline-block; /* 显示方式 */
        font-size: 13px; /* 字体大小 */
        margin: 4px 2px; /* 外边距 */
        cursor: pointer; /* 鼠标指针样式 */
        width: 120px; /* 设置按钮宽度为100像素 */
        height: 30px;
        border-radius: 5px;
    }
</style>
<script>
    function a(){
        if(document.getElementById("code").style.display=="none"){
            document.getElementById("code").style.display="flex";
            document.getElementById("aa").style.display="flex";
            document.getElementById("btn").innerHTML="隐藏完整AC代码";
        }
        else{
            document.getElementById("code").style.display="none";
            document.getElementById("aa").style.display="none";
            document.getElementById("btn").innerHTML="显示完整AC代码";
        }
    }
</script>

<h1><a href="https://www.luogu.com.cn/record/150892853">终于A了</a>！！！太不容易了！！！</h1>
<p><button type="button" id="btn" onclick="a()">显示完整AC代码</button></p>
<div id="code" style="display:none">
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;string&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;cstring&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;cstdio&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;cmath&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;vector&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;map&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="c1">// 用来存证词的结构体</span>
<span class="cm">/*
证词种类：
    1.I am guilty.
    2.I am not guilty.
    3.XXX is guilty.
    4.XXX is not guilty.
    5.Today is XXX.
*/</span>
<span class="k">struct</span> <span class="nc">words</span><span class="p">{</span>
    <span class="n">string</span> <span class="n">w</span><span class="p">;</span>   <span class="c1">// 证词中的可变文字，如“XXX is guilty.”中的XXX</span>
    <span class="kt">int</span> <span class="n">is_true</span> <span class="c1">// 证词真假</span>
    <span class="kt">int</span> <span class="n">type</span><span class="p">;</span>   <span class="c1">// 证词种类</span>
<span class="p">};</span>

<span class="c1">// 用来存人的结构体</span>
<span class="k">struct</span> <span class="nc">people</span><span class="p">{</span>
    <span class="n">string</span> <span class="n">name</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">words</span><span class="o">&gt;</span> <span class="n">hw</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">pp</span><span class="p">;</span>   <span class="c1">// 人与索引的对应</span>
<span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">week</span><span class="p">;</span> <span class="c1">// 星期与索引的对应</span>
<span class="n">string</span> <span class="n">weeks</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">=</span><span class="p">{</span>     <span class="c1">// 索引与星期的对应（包含.是因为后面懒得去了）</span>
    <span class="s">"Monday."</span><span class="p">,</span>
    <span class="s">"Tuesday."</span><span class="p">,</span>
    <span class="s">"Wednesday."</span><span class="p">,</span>
    <span class="s">"Thursday."</span><span class="p">,</span>
    <span class="s">"Friday."</span><span class="p">,</span>
    <span class="s">"Saturday."</span><span class="p">,</span>
    <span class="s">"Sunday."</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">init_week</span><span class="p">(){</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Monday"</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Tuesday"</span><span class="p">,</span><span class="mi">2</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Wednesday"</span><span class="p">,</span><span class="mi">3</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Thursday"</span><span class="p">,</span><span class="mi">4</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Friday"</span><span class="p">,</span><span class="mi">5</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Saturday"</span><span class="p">,</span><span class="mi">6</span><span class="p">));</span>
    <span class="n">week</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Sunday"</span><span class="p">,</span><span class="mi">7</span><span class="p">));</span> 
<span class="p">}</span>

<span class="kt">int</span> <span class="n">ans</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// 储存罪犯答案</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="kt">int</span> <span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">flag</span><span class="p">,</span><span class="n">falut_num</span><span class="p">,</span><span class="n">uk</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">init_week</span><span class="p">();</span>
    <span class="n">string</span> <span class="n">temp</span><span class="p">,</span><span class="n">nn</span><span class="p">,</span><span class="n">sp</span><span class="p">;</span>
    <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">m</span><span class="o">&gt;&gt;</span><span class="n">n</span><span class="o">&gt;&gt;</span><span class="n">p</span><span class="p">;</span>
    <span class="n">people</span> <span class="n">pe</span><span class="p">[</span><span class="n">m</span><span class="o">+</span><span class="mi">10</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">is_honest</span><span class="p">[</span><span class="n">m</span><span class="o">+</span><span class="mi">10</span><span class="p">];</span> <span class="c1">// 储存该人是否说真话。-1为不确定</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="o">+</span><span class="mi">10</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">words</span> <span class="n">te</span><span class="p">;</span>            <span class="c1">// 证词临时变量</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">;</span>
        <span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">pp</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">,</span><span class="n">i</span><span class="p">));</span>
    <span class="p">}</span>
    <span class="n">getchar</span><span class="p">();</span> <span class="c1">// 有坑，见下</span>
    <span class="n">getchar</span><span class="p">();</span>

    <span class="c1">// 输入证词循环</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">p</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">getline</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span><span class="n">temp</span><span class="p">);</span>
        <span class="c1">// 还是坑，见下</span>
        <span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="sc">'\r'</span><span class="o">||</span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="sc">'\n'</span><span class="p">){</span>
            <span class="n">temp</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">nn</span><span class="o">=</span><span class="n">temp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">temp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">' '</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>                            <span class="c1">// nn为说该证词的人</span>
        <span class="n">te</span><span class="p">.</span><span class="n">is_true</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">sp</span><span class="o">=</span><span class="n">temp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">temp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">' '</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="n">temp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">' '</span><span class="p">));</span> <span class="c1">// 证词内容</span>
        <span class="k">if</span><span class="p">(</span><span class="n">sp</span><span class="o">==</span><span class="s">"I am guilty."</span><span class="p">){</span>
            <span class="n">te</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="n">sp</span><span class="p">;</span> <span class="c1">// 其实type为1或2时string w没用</span>
            <span class="n">te</span><span class="p">.</span><span class="n">type</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
            <span class="n">pe</span><span class="p">[</span><span class="n">pp</span><span class="p">[</span><span class="n">nn</span><span class="p">]].</span><span class="n">hw</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">te</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">sp</span><span class="o">==</span><span class="s">"I am not guilty."</span><span class="p">){</span>
            <span class="n">te</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="n">sp</span><span class="p">;</span>
            <span class="n">te</span><span class="p">.</span><span class="n">type</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
            <span class="n">pe</span><span class="p">[</span><span class="n">pp</span><span class="p">[</span><span class="n">nn</span><span class="p">]].</span><span class="n">hw</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">te</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">sp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">" is guilty."</span><span class="p">)</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
                <span class="n">te</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="n">sp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">sp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">11</span><span class="p">);</span>
                <span class="n">te</span><span class="p">.</span><span class="n">type</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
                <span class="n">pe</span><span class="p">[</span><span class="n">pp</span><span class="p">[</span><span class="n">nn</span><span class="p">]].</span><span class="n">hw</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">te</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">sp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">" is not guilty."</span><span class="p">)</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
                <span class="n">te</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="n">sp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">sp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">15</span><span class="p">);</span>
                <span class="n">te</span><span class="p">.</span><span class="n">type</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>
                <span class="n">pe</span><span class="p">[</span><span class="n">pp</span><span class="p">[</span><span class="n">nn</span><span class="p">]].</span><span class="n">hw</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">te</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">sp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"Today is "</span><span class="p">)</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
                <span class="n">te</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="n">sp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="n">sp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                <span class="n">te</span><span class="p">.</span><span class="n">type</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span>
                <span class="n">pe</span><span class="p">[</span><span class="n">pp</span><span class="p">[</span><span class="n">nn</span><span class="p">]].</span><span class="n">hw</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">te</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>    
    <span class="p">}</span>


    <span class="c1">// 枚举开始</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">today</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">today</span><span class="o">&lt;</span><span class="mi">7</span><span class="p">;</span><span class="n">today</span><span class="o">++</span><span class="p">){</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">gu</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">gu</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">gu</span><span class="o">++</span><span class="p">){</span>

            <span class="n">falut_num</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="c1">// 初始化说假话的人数为0</span>
            <span class="n">uk</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>        <span class="c1">// 初始化未知的人数为0</span>
            <span class="c1">// 初始化每个人的真假</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="o">+</span><span class="mi">10</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
                <span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="c1">// 给每个证言表真假</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
                <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">type</span><span class="o">==</span><span class="mi">1</span><span class="p">){</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="n">gu</span><span class="p">){</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">type</span><span class="o">==</span><span class="mi">2</span><span class="p">){</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="n">gu</span><span class="p">){</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">type</span><span class="o">==</span><span class="mi">3</span><span class="p">){</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">pp</span><span class="p">[</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">w</span><span class="p">]</span><span class="o">==</span><span class="n">gu</span><span class="p">){</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">type</span><span class="o">==</span><span class="mi">4</span><span class="p">){</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">pp</span><span class="p">[</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">w</span><span class="p">]</span><span class="o">==</span><span class="n">gu</span><span class="p">){</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">type</span><span class="o">==</span><span class="mi">5</span><span class="p">){</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">w</span><span class="o">==</span><span class="n">weeks</span><span class="p">[</span><span class="n">today</span><span class="p">]){</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>

                <span class="p">}</span>

            <span class="p">}</span>


            <span class="c1">// 判断枚举是否有效</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
                <span class="n">flag</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="c1">// flag为1，此次枚举无效</span>
                <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
                    <span class="n">uk</span><span class="o">++</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">else</span><span class="p">{</span>
                    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>

                        <span class="k">if</span><span class="p">(</span><span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==-</span><span class="mi">1</span><span class="p">){</span>
                            <span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="p">;</span>
                            <span class="k">if</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
                                <span class="n">falut_num</span><span class="o">++</span><span class="p">;</span>
                                <span class="k">if</span><span class="p">(</span><span class="n">falut_num</span><span class="o">&gt;</span><span class="n">n</span><span class="p">){</span>
                                    <span class="n">flag</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                                    <span class="k">break</span><span class="p">;</span>
                                <span class="p">}</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                        <span class="k">else</span><span class="p">{</span>
                            <span class="k">if</span><span class="p">(</span><span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">hw</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">is_true</span><span class="p">){</span>
                                <span class="n">flag</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                                <span class="k">break</span><span class="p">;</span>
                            <span class="p">}</span>
                        <span class="p">}</span>

                    <span class="p">}</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">){</span>
                        <span class="k">break</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>

            <span class="p">}</span>

            <span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">&gt;</span><span class="n">falut_num</span><span class="o">+</span><span class="n">uk</span><span class="p">){</span>
                <span class="n">flag</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
                <span class="k">if</span><span class="p">(</span><span class="n">ans</span><span class="o">!=-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="n">ans</span><span class="o">!=</span><span class="n">gu</span><span class="p">){</span>
                    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"Cannot Determine"</span><span class="p">;</span>
                    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="n">ans</span><span class="o">=</span><span class="n">gu</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">uk</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
            <span class="n">flag</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">ans</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">pe</span><span class="p">[</span><span class="n">ans</span><span class="p">].</span><span class="n">name</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span><span class="p">{</span>
        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"Impossible"</span><span class="p">;</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>
</div>
<div id="aa" style="display:none">
<a onclick="a()">收起</a>
</div>

<hr>
<p>这是一道有趣的模拟题，思路十分简单，由于数据量不大，可以枚举。首先枚举今天是星期几，然后再枚举罪犯，之后判断是否出现矛盾。</p>
<p>矛盾包括：
- 一个人既说假话又说真话。
- 说假话的人数大于题目规定说假话的人数。
- 说假话的人数加不知道说话真假的人数小于题目规定说假话的人数。</p>
<p>如果出现矛盾此次枚举无效，否则记录当前罪犯，进行下一次枚举，如果枚举出新的罪犯直接输出退出。</p>
<div class="highlight"><pre><span></span><code><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;Cannot Determine&quot;</span><span class="p">;</span>
<span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</code></pre></div>

<p>如果所有都枚举完了还没有成功的枚举就输出<code>Impossible</code>否则输出罪犯的名字。</p>
<hr>
<h2>神奇的坑点</h2>
<ol>
<li>window下的换行符是<code>\r\n</code>，而Linux下的换行符是<code>\n</code>。所以<code>getline()</code>会将<code>\r</code>当做正常字符读入进去。</li>
</ol>
<p>注意源代码中这一段</p>
<div class="highlight"><pre><span></span><code><span class="n">words</span><span class="w"> </span><span class="n">te</span><span class="p">;</span><span class="w">            </span><span class="c1">// 证词临时变量</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">        </span><span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="n">is_honest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="mi">-1</span><span class="p">;</span>
<span class="w">        </span><span class="n">pp</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">pe</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">,</span><span class="n">i</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">getchar</span><span class="p">();</span><span class="w"> </span><span class="c1">// 有坑，见下</span>
<span class="w">    </span><span class="n">getchar</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 输入证词循环</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">p</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">        </span><span class="n">getline</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span><span class="n">temp</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// 还是坑，见下</span>
<span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="mi">-1</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;\r&#39;</span><span class="o">||</span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="mi">-1</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;\n&#39;</span><span class="p">){</span>
<span class="w">            </span><span class="n">temp</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">temp</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="mi">-1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
</code></pre></div>

<p>中间的两个<code>getchar()</code>，第一个是接收cin结束后的<code>\r</code>，而第二个是接收<code>\n</code>。之后<code>getline()</code>后面的那个循环就是为了去掉每个证词最后的<code>\r\n</code>。</p>	
						</div>
					</div>
			      
					<div style="clear: both;">&nbsp;</div>
				</div>
				<!-- end #content -->
				<div id="sidebar">
					<div id="logo">
						<h1><a href="https://ste1hi.github.io/StudyBlog">StudyBlog</a></h1>
					</div>
					<div id="menu">
						<ul>
							<li ><a href="https://ste1hi.github.io/StudyBlog">Home</a></li>
							<li ><a href="https://ste1hi.github.io/StudyBlog/archives.html">Archives</a></li>
						</ul>
					</div>
					<ul>
						<li>
							<h2>Catégories</h2>
							<ul>
								 <li class="active"><a href="https://ste1hi.github.io/StudyBlog/category/blog.html">Blog</a></li>
								 <li ><a href="https://ste1hi.github.io/StudyBlog/category/summary.html">Summary</a></li>
							</ul>
						</li>
						<li>
							<h2>Blogroll</h2>
							<ul>
                                                            <li><a href="https://getpelican.com/">Pelican</a></li>
                                                            <li><a href="https://www.python.org/">Python.org</a></li>
                                                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                                                            <li><a href="#">You can modify those links in your config file</a></li>
							</ul>
						</li>
                                                <li>
                                                        <h2>Social</h2>
                                                        <ul>
                                                            <li><a href="https://ste1hi.github.io/StudyBlog/" rel="alternate">Flux Atom</a></li>
                                                            <li><a href="#">You can add links in your config file</a></li>
                                                            <li><a href="#">Another social link</a></li>
                                                        </ul>
                                                </li><!-- /.social -->
						<li>
						        <h2>Tags</h2>
						        <ul>
						        </ul>
						</li>
						
						
					</ul>
				</div>
				<!-- end #sidebar -->
				<div style="clear: both;">&nbsp;</div>
			</div>
		</div>
	</div>
	<!-- end #page -->

<div id="footer">
	<p>Copyright (c) 2008 Sitename.com. All rights reserved. Design by <a href="http://www.freecsstemplates.org/">CSS Templates</a>.</p>
	<p>Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
</p>
</div>
<!-- end #footer -->
</body>
</html>